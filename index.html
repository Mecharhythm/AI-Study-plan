<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI Study Planner</title>


<div id="auth" class="box">
  <h2>ログイン / 新規登録</h2>
  <input id="user" placeholder="ユーザーID"><br><br>
  <input id="pass" placeholder="パスワード" type="password"><br><br>

  <button onclick="login()">ログイン</button>
  <button onclick="register()">新規登録</button>

  <p id="msg" style="color:red;"></p>
<script>

// 新規登録
function register() {
  const u = user.value;
  const p = pass.value;

  if (!u || !p) {
    msg.textContent = "IDとパスワードを入力してください。";
    return;
  }

  if (localStorage.getItem(u)) {
    msg.textContent = "このIDは既に登録されています。";
    return;
  }

  localStorage.setItem(u, p);
  msg.textContent = "登録完了！ログインできます。";
}

// ログイン
function login() {
  const u = user.value;
  const p = pass.value;

  const saved = localStorage.getItem(u);

  if (saved === p) {
    document.getElementById("auth").style.display = "none";
    document.getElementById("main").style.display = "block";
  } else {
    msg.textContent = "IDまたはパスワードが違います。";
  }
}

// ログアウト
function logout() {
  document.getElementById("auth").style.display = "block";
  document.getElementById("main").style.display = "none";
}
</script>
</div>

<div id="main" style="display:none;">
<style>
    body {
        font-family: sans-serif;
        background: #fff;
        margin: 0;
        padding: 0;
    }
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 14px;
        font-size: 20px;
        font-weight: bold;
        background: #ffffff;
        border-bottom: 1px solid #eee;
    }
    #tutorialBtn {
        font-size: 12px;
        padding: 4px 6px;
        border-radius: 6px;
        border: 1px solid #ccc;
        background: #f8f8f8;
    }
    #loginSection, #plannerSection {
        padding: 16px;
    }

    /* 横スクロール学習計画表 */
    #planScroll {
        display: flex;
        overflow-x: auto;
        gap: 12px;
        padding: 12px;
        background: #fafafa;
        border-bottom: 1px solid #ddd;
    }
    .plan-card {
        min-width: 140px;
        padding: 12px;
        border-radius: 12px;
        background: #f0f0f0;
    }

    /* 予定要約欄 */
    #summaryBox {
        background: #ffffff;
        border-top: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        padding: 16px;
        min-height: 80px;
        font-size: 15px;
    }

    /* 会話入力 */
    #chatContainer {
        padding: 16px;
    }
    #chatLog {
        height: 180px;
        overflow-y: auto;
        border: 1px solid #ccc;
        padding: 12px;
        border-radius: 10px;
        margin-bottom: 10px;
        background: #fafafa;
    }
    #prompt {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        margin-bottom: 10px;
    }
    #sendBtn {
        width: 100%;
        padding: 10px;
        border-radius: 8px;
        background: black;
        color: white;
        font-size: 16px;
        border: none;
    }
</style>
